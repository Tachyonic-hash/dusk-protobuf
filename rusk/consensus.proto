syntax = "proto3";
package rusk;

import "transaction.proto";
import "keys.proto";

// Call during block generation
message DistributeRequest {
  fixed64 total_reward = 1;
  bytes provisioners_addresses = 2;
  PublicKey bg_pk = 3;
  rusk.Transaction tx = 4;
}

// Call from consensus
message WithdrawRequest {
  bytes bls_key = 1;
  bytes sig = 2;
  bytes msg = 3;
  rusk.Transaction tx = 4;
}

// Call from consensus
message StakeRequest {
  bytes bls_key = 1;
  fixed64 value = 3;
  fixed64 locktime = 4;
  rusk.Transaction tx = 5;
}

// Call from block generator
message BidRequest {
  bytes m = 1;
  fixed64 value = 2;
  fixed64 locktime = 3;
  rusk.Transaction tx = 4;
}

// Call from consensus
message SlashRequest {
  bytes bls_key = 1;
  uint32 step = 2;
  fixed64 height = 3;
  bytes first_msg = 4;
  bytes first_sig = 5;
  bytes second_msg = 6;
  bytes second_sig = 7;
  rusk.Transaction tx = 8;
}
